<html>
	<head>
		<title>Salvation WebGL 01 - Hello world</title>
		<script type="text/javascript" src="../dist/engine.js"></script>
		<script>
			var g_Device = 0;
			
			// Init sample, called on body=>onLoad
			function Init()
			{
				// Create a new render device for canvas("RenderCanvas")
				g_Device = new Salvation.Device(document.getElementById("RenderCanvas"));
				
				// Check if device is correctly created
				if (!g_Device.IsCreated())
				{
					alert("Failed to create render canvas : " + g_Device.ErrorStr);
					return;
				}

				l_Mesh = g_Device.SceneManager.AddCubeSceneNode("HelloWorldCube", 1);
				l_Mesh.Node.Position.X = -1.5;
				l_Mesh.Node.Position.Z = -7;
				/*l_Mesh.ColorBuffer = [
					1.0, 0.0, 0.0, 1.0,
					0.0, 1.0, 0.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					
					1.0, 0.0, 0.0, 1.0,
					0.0, 1.0, 0.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					
					1.0, 0.0, 0.0, 1.0,
					0.0, 1.0, 0.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					
					1.0, 0.0, 0.0, 1.0,
					0.0, 1.0, 0.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					
					1.0, 0.0, 0.0, 1.0,
					0.0, 1.0, 0.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					
					1.0, 0.0, 0.0, 1.0,
					0.0, 1.0, 0.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
					0.0, 0.0, 1.0, 1.0,
				]; 
				
				l_Material 	= new Salvation.Video.Material(g_Device.VideoDriver);
				l_Position 	= new Salvation.Core.Vector3(-1.5, 0, -7);
				l_Rotation 	= new Salvation.Core.Vector3(0, 0, 0);
				l_Scale 	= new Salvation.Core.Vector3(1, 1, 1);*/
				
				// Render one frame
				g_Device.VideoDriver.BeginScene();
				g_Device.SceneManager.DrawAll();
				g_Device.VideoDriver.EndScene();
			}
		</script>
	</head>
	<body onload="Init()">
		<canvas id="RenderCanvas" style="border: none;" width="900" height="600"></canvas>
	</body>
</html>